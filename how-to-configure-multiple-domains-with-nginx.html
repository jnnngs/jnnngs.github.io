<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How to configure Multiple Domains with Nginx - jnnngs</title><meta name="description" content="Configure First Domain The default configuration file for Nginx is /etc/nginx/nginx.conf, and we’re free to add our domains to this configuration. However, it is strongly recommended not do that. The single, biggest reason not to combine all domains in one configuration is that it will&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://jnnn.gs/how-to-configure-multiple-domains-with-nginx.html"><link rel="alternate" type="application/atom+xml" href="https://jnnn.gs/feed.xml"><link rel="alternate" type="application/json" href="https://jnnn.gs/feed.json"><meta property="og:title" content="How to configure Multiple Domains with Nginx"><meta property="og:site_name" content="jnnngs"><meta property="og:description" content="Configure First Domain The default configuration file for Nginx is /etc/nginx/nginx.conf, and we’re free to add our domains to this configuration. However, it is strongly recommended not do that. The single, biggest reason not to combine all domains in one configuration is that it will&hellip;"><meta property="og:url" content="https://jnnn.gs/how-to-configure-multiple-domains-with-nginx.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@jnnngs_eth"><meta name="twitter:title" content="How to configure Multiple Domains with Nginx"><meta name="twitter:description" content="Configure First Domain The default configuration file for Nginx is /etc/nginx/nginx.conf, and we’re free to add our domains to this configuration. However, it is strongly recommended not do that. The single, biggest reason not to combine all domains in one configuration is that it will&hellip;"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://jnnn.gs/assets/css/style.css?v=2405d04b119f74cf51b884beb85eb424"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://jnnn.gs/how-to-configure-multiple-domains-with-nginx.html"},"headline":"How to configure Multiple Domains with Nginx","datePublished":"2021-01-08T17:07","dateModified":"2021-05-20T16:39","description":"Configure First Domain The default configuration file for Nginx is /etc/nginx/nginx.conf, and we’re free to add our domains to this configuration. However, it is strongly recommended not do that. The single, biggest reason not to combine all domains in one configuration is that it will&hellip;","author":{"@type":"Person","name":"Jnnngs"},"publisher":{"@type":"Organization","name":"Jnnngs"}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://jnnn.gs/">jnnngs</a></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2021-01-08T17:07">January 8, 2021</time></div><h1>How to configure Multiple Domains with Nginx</h1></div></header></div><div class="wrapper post__entry"><h2>Configure First Domain</h2><p>The default configuration file for Nginx is <code>/etc/nginx/nginx.conf</code>, and we’re free to add our domains to this configuration. However, it is strongly recommended not do that. The single, biggest reason not to combine all domains in one configuration is that it will become very unwieldy, and cumbersome to maintain. Rather, it is advised to create individual configuration files for each domain, placing them in the <code>/etc/nginx/sites-available</code> directory. There is a <code>default</code> file that is created as part of the initial install, so feel free it use that or rename it to something more meaningful.</p><p>The key to then enabling the domain, is to create a symbolic link to the <code>/etc/nginx/sites-enabled</code> directory. The default file is already included, so nothing to do if you have reused this file. If you have renamed it to something meaningful, then run the following line command create the symbolic link.</p><p><code>sudo ln -s /etc/nginx/sites-available/<span style="color: #2dc26b;">MEANINGFUL_NAME</span> /etc/nginx/sites-enabled/<span style="color: #2dc26b;">MEANINGFUL_NAME</span></code></p><p>NB: It is common practice to name the files with an <code>.conf</code> extension, although it is not required to do so</p><h2>Configure Second Domain</h2><p>In order to create and activate the second domain, you should copy the <code>default</code> (or whatever you renamed it to)  file within <code>/etc/nginx/sites-available</code> and amend accordingly. </p><p><code>cp /etc/nginx/sites-available/default /etc/nginx/sites-available/<span style="color: #2dc26b;">domain_two</span></code></p><p>In order for Nginx to know which configuration file to use, it references the inbound domain against the server_name configuration within the server block. Example below:-</p><pre>server {
     listen 80;
     listen [::]:80;
     server_name domain-two.com www.domain-two.com;

     root /var/www/domain-two.com/public_html;

     index index.html index.htm;

     location / {
          try_files $uri $uri/ =404;
     }
}</pre><p>Following this, you need to create the symbolic link.</p><p><code>sudo ln -s /etc/nginx/sites-available/<span style="color: #2dc26b;">domain_two</span> /etc/nginx/sites-enabled/<span style="color: #2dc26b;">domain_two</span></code></p><h2>Start or restart the Nginx service</h2><p><code>sudo systemctl start nginx</code></p><p>If Nginx is already running, reload all configuration files without stopping the service.</p><p><code>sudo systemctl reload nginx</code></p><p>Verify that Nginx is running.</p><p><code>sudo systemctl status nginx</code></p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on May 20, 2021</p><ul class="post__tag"><li><a href="https://jnnn.gs/tags/devops/">DevOps</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fjnnn.gs%2Fhow-to-configure-multiple-domains-with-nginx.html" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://jnnn.gs/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fjnnn.gs%2Fhow-to-configure-multiple-domains-with-nginx.html&amp;via=%40jnnngs&amp;text=How%20to%20configure%20Multiple%20Domains%20with%20Nginx" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://jnnn.gs/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fjnnn.gs%2Fhow-to-configure-multiple-domains-with-nginx.html&amp;title=How%20to%20configure%20Multiple%20Domains%20with%20Nginx" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://jnnn.gs/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://api.whatsapp.com/send?text=How%20to%20configure%20Multiple%20Domains%20with%20Nginx https%3A%2F%2Fjnnn.gs%2Fhow-to-configure-multiple-domains-with-nginx.html" class="js-share whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://jnnn.gs/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://jnnn.gs/authors/paul-jennings/" class="invert" rel="author">Jnnngs</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://jnnn.gs/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://jnnn.gs/jenkins-deployment-ssh-keygen.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Jenkins Deployment ssh-keygen</a></div><div class="post__nav-next"><a href="https://jnnn.gs/webdav-urls-of-common-cloud-storage-services.html" class="invert post__nav-link" rel="next"><span>Next</span> WebDAV URLs of Common Cloud Storage Services </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://jnnn.gs/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2021-12-21T12:08" class="feed__date">December 21, 2021</time></div><h3 class="h1"><a href="https://jnnn.gs/architecture-for-aws-vpc-internet-facing-public-subnet-with-private-subnet-backend.html" class="invert">Architecture for AWS VPC: Internet-facing Public subnet with Private subnet backend</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2021-10-28T10:41" class="feed__date">October 28, 2021</time></div><h3 class="h1"><a href="https://jnnn.gs/portainer-agent-updating-with-watchtower.html" class="invert">Portainer agent updating with watchtower</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>jnnn.gs © 2021</p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://jnnn.gs/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://jnnn.gs/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>